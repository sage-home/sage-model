# Makefile for the evolve_integration test

# Compiler settings - inherit from main Makefile
CC = gcc
CFLAGS = -g -Wall -Wextra -Werror -pedantic -std=c99
LIBS = -lm -ldl 

# SAGE library path
SAGE_LIB = ../libsage.so

# Target executable
EXEC = test_evolve_integration

# Default target
all: $(EXEC)

# Compile the test
$(EXEC): test_evolve_integration.c $(SAGE_LIB)
	$(CC) $(CFLAGS) -o $@ test_evolve_integration.c -L.. -lsage $(LIBS)

# Run the test
run: $(EXEC)
	./$(EXEC)

# Clean up
clean:
	rm -f $(EXEC)

# Testing target used by main Makefile
test: run
